var e={listeners:[],observer:null,debug:!0};function n(n){for(var a,f,c=[],u=arguments.length-1;u-- >0;)c[u]=arguments[u+1];e.observer||(e.observer=((f=new MutationObserver(function(n){for(var t=performance.now(),r=!1,o=!1,s=0,i=0,a=0,f=n;a<f.length;a+=1){var c=f[a];if("childList"===c.type){var u=c.removedNodes.length;if(u){r=!0,i+=u;for(var l=0,v=c.removedNodes;l<v.length;l+=1)for(var d=v[l],h=0,b=e.listeners;h<b.length;h+=1){var m=b[h];d.contains(m.target)&&m.type&&m.listener&&(o=!0,m.target.removeEventListener(m.type,m.listener),m._to_remove=!0)}if(o)for(var p=e.listeners.length;p--;)!0===e.listeners[p]._to_remove&&(s++,e.listeners.splice(p,1))}}}if(r&&e.debug){var y=performance.now()-t;y>10&&console.warn("el observer performance issue.\n          It took "+Math.round(y)+" ms to finish. \n          Number of listeners removed : "+s+". \n          Number of listeners left: "+e.listeners.length+". \n          Number of removed nodes : "+i)}})).observe(document.body,{childList:!0,subtree:!0}),f));var l=document.createElement(n);return c.forEach(function(n){t(n)&&!r(n)&&Object.keys(n).forEach(function(i){a=n[i],"on"===i&&r(a)&&o(a[0])&&s(a[1])?(l.addEventListener(a[0],a[1]),e.listeners.push({target:l,type:a[0],listener:a[1]})):"on"===i&&t(a)?Object.keys(a).forEach(function(n){s(a[n])&&(l.addEventListener(n,a[n]),e.listeners.push({target:l,type:n,listener:a[n]}))}):"innerText"===i&&o(a)?l.innerText=a:"dataset"!==i&&"style"!==i||!t(a)?"class"===i&&r(a)?a.forEach(function(e){return l.classList.add(e)}):l.setAttribute(i,n[i]):Object.keys(a).forEach(function(e){l[i][e]=a[e]})}),r(n)&&n.forEach(function(e){i(e)&&l.appendChild(e)}),i(n)&&l.appendChild(n),n instanceof Promise?n.then(v):v(n)}),l;function v(e){!function(e){return o(e)&&/(<([^>]+)>)/i.test(e)}(e)&&"style"!==n?o(e)&&(l.innerText=e):l.innerHTML=e}}function t(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function r(e){return!!e&&"object"==typeof e&&Array.isArray(e)}function o(e){return"string"==typeof e}function s(e){return e instanceof Function}function i(e){return e instanceof Element}export{n as el};
//# sourceMappingURL=el.mjs.map
