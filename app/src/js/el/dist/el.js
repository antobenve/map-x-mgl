var e={listeners:[],observer:null,debug:!0};function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function t(e){return!!e&&"object"==typeof e&&Array.isArray(e)}function r(e){return"string"==typeof e}function o(e){return e instanceof Function}function s(e){return e instanceof Element}exports.el=function(i){for(var a,f,c=[],u=arguments.length-1;u-- >0;)c[u]=arguments[u+1];e.observer||(e.observer=((f=new MutationObserver(function(n){for(var t=performance.now(),r=!1,o=!1,s=0,i=0,a=0,f=n;a<f.length;a+=1){var c=f[a];if("childList"===c.type){var u=c.removedNodes.length;if(u){r=!0,i+=u;for(var l=0,v=c.removedNodes;l<v.length;l+=1)for(var d=v[l],h=0,b=e.listeners;h<b.length;h+=1){var m=b[h];d.contains(m.target)&&m.type&&m.listener&&(o=!0,m.target.removeEventListener(m.type,m.listener),m._to_remove=!0)}if(o)for(var p=e.listeners.length;p--;)!0===e.listeners[p]._to_remove&&(s++,e.listeners.splice(p,1))}}}if(r&&e.debug){var y=performance.now()-t;y>10&&console.warn("el observer performance issue.\n          It took "+Math.round(y)+" ms to finish. \n          Number of listeners removed : "+s+". \n          Number of listeners left: "+e.listeners.length+". \n          Number of removed nodes : "+i)}})).observe(document.body,{childList:!0,subtree:!0}),f));var l=document.createElement(i);return c.forEach(function(i){n(i)&&!t(i)&&Object.keys(i).forEach(function(s){a=i[s],"on"===s&&t(a)&&r(a[0])&&o(a[1])?(l.addEventListener(a[0],a[1]),e.listeners.push({target:l,type:a[0],listener:a[1]})):"on"===s&&n(a)?Object.keys(a).forEach(function(n){o(a[n])&&(l.addEventListener(n,a[n]),e.listeners.push({target:l,type:n,listener:a[n]}))}):"innerText"===s&&r(a)?l.innerText=a:"dataset"!==s&&"style"!==s||!n(a)?"class"===s&&t(a)?a.forEach(function(e){return l.classList.add(e)}):l.setAttribute(s,i[s]):Object.keys(a).forEach(function(e){l[s][e]=a[e]})}),t(i)&&i.forEach(function(e){s(e)&&l.appendChild(e)}),s(i)&&l.appendChild(i),i instanceof Promise?i.then(v):v(i)}),l;function v(e){!function(e){return r(e)&&/(<([^>]+)>)/i.test(e)}(e)&&"style"!==i?r(e)&&(l.innerText=e):l.innerHTML=e}};
//# sourceMappingURL=el.js.map
